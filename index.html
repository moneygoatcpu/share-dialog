<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Share Content</title>
</head>
<body>
    <script>
        // Function to get URL parameters
        function getUrlParameter(name) {
            name = name.replace(/[\[]/, '\\[').replace(/[\]]/, '\\]');
            const regex = new RegExp('[\\?&]' + name + '=([^&#]*)');
            const results = regex.exec(location.search);
            return results === null ? '' : decodeURIComponent(results[1].replace(/\+/g, ' '));
        }

        // Function to handle sharing
        async function shareContent() {
            const textToShare = getUrlParameter('text');
            const urlToShare = getUrlParameter('url');

            // Prepare share data
            const shareData = {
                title: 'Share',
                text: textToShare,
                url: urlToShare
            };

            try {
                // Check if Web Share API is supported
                if (navigator.share) {
                    await navigator.share(shareData);
                    console.log('Shared successfully');
                } else {
                    console.log('Web Share API not supported');
                    // Fallback message for unsupported browsers
                    document.body.innerHTML = '<p>Sharing is not supported on this device/browser.</p>';
                }
            } catch (err) {
                console.log('Error sharing:', err);
                document.body.innerHTML = '<p>Error sharing content.</p>';
            }
        }

        // Trigger share when page loads
        window.onload = shareContent;
    </script>
</body>
</html>
